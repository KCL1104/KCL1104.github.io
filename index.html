<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PENGU | Terminal Portfolio</title>

    <!-- Preload fonts for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Meta tags for SEO -->
    <meta name="description" content="PENGU - Backend & Blockchain Engineer. Interactive terminal portfolio showcasing blockchain projects and experience.">
    <meta name="keywords" content="blockchain, developer, solana, ethereum, web3, portfolio, pengu">

    <style>
        /* ===========================================
           CSS VARIABLES - Terminal Color Scheme
           =========================================== */
        :root {
            /* Core Terminal Colors */
            --terminal-bg: #0d0d0d;
            --terminal-text: #f0f0f0;
            --terminal-link: #58a6ff;
            --terminal-success: #3fb950;
            --terminal-prompt: #8b949e;
            --terminal-error: #f85149;
            --terminal-warning: #d29922;
            --terminal-cyan: #39c5cf;
            --terminal-magenta: #db61a2;

            /* Window Chrome Colors */
            --window-header: #2d2d2d;
            --window-border: #3e3e42;
            --btn-close: #e81123;
            --btn-minimize: #3e3e42;
            --btn-maximize: #3e3e42;

            /* Fonts */
            --font-mono: 'Fira Code', 'JetBrains Mono', 'SF Mono', 'Consolas', 'Monaco', monospace;

            /* Spacing */
            --terminal-padding: 20px;
            --line-height: 1.6;
        }

        /* ===========================================
           BASE RESET & TYPOGRAPHY
           =========================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: var(--font-mono);
            font-size: 14px;
            line-height: var(--line-height);
            background-color: var(--terminal-bg);
            color: var(--terminal-text);
        }

        /* ===========================================
           TERMINAL CONTAINER
           =========================================== */
        .terminal-window {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100vh;
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--terminal-bg);
            border: 1px solid var(--window-border);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        /* Desktop: Add margin and sizing */
        @media (min-width: 768px) {
            .terminal-window {
                height: calc(100vh - 40px);
                margin: 20px auto;
                max-width: calc(100% - 40px);
            }
        }

        /* ===========================================
           TERMINAL HEADER (Window Chrome)
           =========================================== */
        .terminal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px 12px;
            background-color: var(--window-header);
            border-bottom: 1px solid var(--window-border);
            user-select: none;
        }

        .window-controls {
            display: flex;
            gap: 10px;
            order: 2;
        }

        .window-btn {
            width: 14px;
            height: 14px;
            border-radius: 2px;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .window-btn:hover {
            opacity: 0.8;
        }

        .window-btn.close { background-color: var(--btn-close); }
        .window-btn.minimize { background-color: var(--btn-minimize); }
        .window-btn.maximize { background-color: var(--btn-maximize); }

        .terminal-title {
            flex: 1;
            text-align: left;
            color: var(--terminal-text);
            font-size: 12px;
            padding-left: 10px;
            font-weight: 500;
        }

        /* ===========================================
           TERMINAL OUTPUT AREA
           =========================================== */
        .terminal-output {
            flex: 1;
            overflow-y: auto;
            padding: var(--terminal-padding);
            scroll-behavior: smooth;
            user-select: text;
        }

        /* Custom Scrollbar */
        .terminal-output::-webkit-scrollbar {
            width: 8px;
        }

        .terminal-output::-webkit-scrollbar-track {
            background: var(--terminal-bg);
        }

        .terminal-output::-webkit-scrollbar-thumb {
            background: var(--window-border);
            border-radius: 4px;
        }

        .terminal-output::-webkit-scrollbar-thumb:hover {
            background: var(--terminal-prompt);
        }

        /* ===========================================
           OUTPUT CONTENT STYLING
           =========================================== */
        .output-line {
            margin-bottom: 4px;
            word-wrap: break-word;
        }

        .output-command {
            color: var(--terminal-success);
        }

        .output-prompt {
            color: var(--terminal-prompt);
        }

        .output-error {
            color: var(--terminal-error);
        }

        .output-info {
            color: var(--terminal-cyan);
        }

        .output-warning {
            color: var(--terminal-warning);
        }

        .output-link {
            color: var(--terminal-link);
            text-decoration: none;
            cursor: pointer;
        }

        .output-link:hover {
            text-decoration: underline;
        }

        .copy-toast {
            position: absolute;
            right: 16px;
            bottom: 70px;
            background: rgba(0, 0, 0, 0.75);
            color: var(--terminal-text);
            border: 1px solid var(--window-border);
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 12px;
            opacity: 0;
            transform: translateY(6px);
            pointer-events: none;
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        .copy-toast.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* ===========================================
           ASCII ART STYLING
           =========================================== */
        .ascii-art {
            color: var(--terminal-success);
            white-space: pre;
            font-size: 10px;
            line-height: 1.2;
            margin: 10px 0;
        }

        @media (min-width: 768px) {
            .ascii-art {
                font-size: 14px;
            }
        }

        /* ===========================================
           COMMAND HINTS / SUGGESTIONS
           =========================================== */
        .command-hints {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 15px 0;
        }

        .hint-btn {
            background: transparent;
            border: 1px solid var(--terminal-prompt);
            color: var(--terminal-prompt);
            padding: 6px 12px;
            border-radius: 4px;
            font-family: var(--font-mono);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .hint-btn:hover {
            border-color: var(--terminal-link);
            color: var(--terminal-link);
            background: rgba(88, 166, 255, 0.1);
        }

        /* ===========================================
           TERMINAL INPUT AREA
           =========================================== */
        .terminal-input-area {
            display: flex;
            align-items: center;
            padding: var(--terminal-padding);
            border-top: 1px solid var(--window-border);
            background-color: var(--terminal-bg);
        }

        .input-prompt {
            color: var(--terminal-success);
            margin-right: 8px;
            white-space: nowrap;
        }

        .terminal-input {
            flex: 1;
            background: transparent;
            border: none;
            outline: none;
            color: var(--terminal-text);
            font-family: var(--font-mono);
            font-size: 14px;
            caret-color: var(--terminal-text);
        }

        .terminal-input::placeholder {
            color: var(--terminal-prompt);
            opacity: 0.5;
        }

        /* ===========================================
           BLINKING CURSOR ANIMATION
           =========================================== */
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        /* ===========================================
           PROJECT / TIMELINE STYLING
           =========================================== */
        .project-item {
            margin: 8px 0;
            padding-left: 20px;
        }

        .project-name {
            color: var(--terminal-link);
            cursor: pointer;
        }

        .project-name:hover {
            text-decoration: underline;
        }

        .project-tech-tags {
            color: var(--terminal-prompt);
            font-size: 12px;
        }

        .timeline-entry {
            margin: 15px 0;
            padding-left: 20px;
            border-left: 2px solid var(--terminal-prompt);
        }

        .timeline-date {
            color: var(--terminal-cyan);
            font-size: 12px;
        }

        .timeline-title {
            color: var(--terminal-success);
        }

        .timeline-company {
            color: var(--terminal-magenta);
        }

        /* ===========================================
           SKILL BARS (ASCII Style)
           =========================================== */
        .skill-bar {
            color: var(--terminal-prompt);
        }

        .skill-fill {
            color: var(--terminal-success);
        }

        /* ===========================================
           MOBILE RESPONSIVE ADJUSTMENTS
           =========================================== */
        @media (max-width: 767px) {
            body {
                font-size: 13px;
            }

            .terminal-window {
                border-radius: 0;
                border: none;
            }

            .terminal-header {
                padding: 10px 12px;
            }

            .terminal-output,
            .terminal-input-area {
                padding: 12px;
            }

            .input-prompt {
                font-size: 12px;
            }

            /* Shorter prompt on mobile */
            .mobile-prompt {
                display: inline;
            }

            .desktop-prompt {
                display: none;
            }

            .ascii-art {
                font-size: 6px;
                overflow-x: auto;
            }

            .command-hints {
                gap: 6px;
            }

            .hint-btn {
                padding: 8px 12px;
                font-size: 13px;
            }
        }

        @media (min-width: 768px) {
            .mobile-prompt {
                display: none;
            }

            .desktop-prompt {
                display: inline;
            }
        }

        /* ===========================================
           PROFILE PHOTO STYLING
           =========================================== */
        .profile-photo {
            max-width: 200px;
            height: auto;
            margin: 15px 0;
            border: none;
            display: block;
        }

        /* ===========================================
           ACCESSIBILITY
           =========================================== */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation: none !important;
            }
        }

        /* Focus styles for keyboard navigation */
        .hint-btn:focus,
        .terminal-input:focus,
        .output-link:focus {
            outline: 2px solid var(--terminal-link);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <div class="terminal-window" role="application" aria-label="Terminal Portfolio">

        <!-- Terminal Header with Window Controls -->
        <div class="terminal-header">
            <div class="window-controls" aria-hidden="true">
                <span class="window-btn close"></span>
                <span class="window-btn minimize"></span>
                <span class="window-btn maximize"></span>
            </div>
            <div class="terminal-title">visitor@pengu - PowerShell</div>
        </div>

        <!-- Terminal Output Area (Scrollable) -->
        <div class="terminal-output" id="terminal-output" role="log" aria-live="polite">
            <!-- Output will be dynamically inserted here -->
        </div>

        <!-- Terminal Input Area -->
        <div class="terminal-input-area">
            <span class="input-prompt">
                <span class="desktop-prompt">visitor@pengu:~$</span>
                <span class="mobile-prompt">$</span>
            </span>
            <input
                type="text"
                class="terminal-input"
                id="terminal-input"
                placeholder="Type a command or click below..."
                autocomplete="off"
                autocapitalize="off"
                spellcheck="false"
                aria-label="Terminal input"
            >
        </div>

        <div class="copy-toast" id="copy-toast" role="status" aria-live="polite">Copied</div>

    </div>

    <script>
        // ===========================================
        // TERMINAL PORTFOLIO - JavaScript Implementation
        // ===========================================

        (function() {
            'use strict';

            // ===========================================
            // DATA STORE - All Portfolio Content
            // ===========================================
            const PORTFOLIO_DATA = {
                name: "Kuo Chi Lin",
                handle: "PENGU",
                title: "Full-stack & Blockchain Engineer",
                wallet: "0x5ae4...fdd2",

                about: {
                    intro: "Full-stack blockchain developer with hands-on experience in Solana and Ethereum ecosystems. Currently building workflow automation tools for Web3 at PinTool.",
                    background: "Have strong foundation in blockchain technology and Web development. Focused on smart contract development, DeFi protocols, and full-stack applications.",
                    hackathonAwards: [
                        "XueDao Hackathon: Won 3 tracks from Cathay Financial Holding, Zircuit, BGA",
                        "Solana Cypherpunk: Won 2nd place on side track from Sanctum",
                        "Encode Solan Winter Build Challenge 2025: Won first place on Best Consumer App on Solana track",
                        "AI FinTech Innovation & Creativity Competition: Social Group 3rd Place"
                    ]
                },

                projects: [
                    {
                        id: "xuedao",
                        name: "XueDao-Hackathon",
                        description: "A hackathon project creating a decentralized news platform that allows users to post, vote, and comment on news articles.",
                        tech: ["Solidity", "OpenZeppelin", "IPFS"],
                        category: ["blockchain", "ethereum"],
                        github: "https://github.com/KCL1104/XueDao-Hackathon"
                    },
                    {
                        id: "seedgrow",
                        name: "SeedGrow",
                        description: "A web3 crowd-funding app that allows users to create and manage campaigns, and donate to campaigns.",
                        tech: ["Solidity", "Web3.js", "Hardhat", "React"],
                        category: ["blockchain", "ethereum", "web"],
                        github: "https://github.com/KCL1104/Seed-Grow"
                    },
                    {
                        id: "utproject",
                        name: "UT-project",
                        description: "A Unity game development project showcasing C# programming skills and game development fundamentals.",
                        tech: ["C#", "Unity", "Game Development"],
                        category: ["game"],
                        github: "https://github.com/KCL1104/UT-project"
                    },
                    {
                        id: "camelsean",
                        name: "CamelSean",
                        description: "A TypeScript and Python based project demonstrating full-stack development capabilities and modern web technologies.",
                        tech: ["TypeScript", "Python", "Full-Stack"],
                        category: ["web"],
                        github: "https://github.com/KCL1104/camelsean"
                    },
                    {
                        id: "kairoria",
                        name: "Kairoria",
                        description: "A Next.js project integrated with Supabase utilizing Solana as payment.",
                        tech: ["Next.js", "Supabase", "Solana Anchor"],
                        category: ["blockchain", "solana", "web"],
                        github: "https://github.com/KCL1104/Kairoria"
                    },
                    {
                        id: "pintool",
                        name: "Pintool",
                        description: "A n8n-liked workflow editor that allow users to automate their web3 strategies.",
                        tech: ["web3", "nest.js", "react.js", "Supabase", "Solana"],
                        category: ["web3", "blockchain"],
                        github: "https://github.com/pintoolx"
                    },
                    {
                        id: "deepflow",
                        name: "DeepFlow",
                        description: "A to-do list project with ai agent integration.",
                        tech: ["langchain", "fastapi", "next.js", "opik", "postgresql"],
                        category: ["web", "ai"],
                        github: "https://github.com/KCL1104/DeepFlow"
                    },
                    {
                        id: "solprivacy",
                        name: "SolPrivacy",
                        description: "A cli tool for solana privacy related developer to increase their dx.",
                        tech: ["Rust", "Light Protocol", "Clap"],
                        category: ["blockchain", "solana", "cli"],
                        github: "https://github.com/KCL1104/SolPrivacy"
                    }
                ],

                experience: [
                    {
                        title: "Backend / Blockchain Engineer",
                        company: "PinTool",
                        location: "Taipei",
                        date: "October 2025 - Present",
                        description: "Founding engineer at a startup building an n8n-like workflow editor for Solana users. Responsible for designing and implementing backend systems with seamless blockchain integration.",
                        tech: ["Solana", "Node.js", "Backend"]
                    },
                    {
                        title: "Full-stack / Blockchain Developer",
                        company: "Je Pun International Co., Ltd.",
                        location: "Taipei",
                        date: "September 2025 - Present",
                        description: "Providing technical guidance to team members, designing customized blockchain architectures, and conducting thorough code reviews.",
                        tech: ["Blockchain", "Full-Stack", "Architecture"]
                    }
                ],

                education: [
                    {
                        title: "Bachelor of Science in Computer Science",
                        institution: "University of Taipei",
                        location: "Taipei, Taiwan",
                        date: "Graduated June 2025",
                        description: "Focused on software development, algorithms, data structures, and blockchain technology fundamentals."
                    },
                    {
                        title: "Self-Learning Blockchain Development",
                        institution: "Independent Study",
                        date: "2021 - Present",
                        description: "Self-taught blockchain developer with strong foundation in Solidity, Ethereum, and smart contract development."
                    },
                    {
                        title: "Blockchain Development Bootcamp",
                        institution: "Online Learning Platform",
                        date: "Summer 2024",
                        description: "Completed intensive 8-week bootcamp focused on Ethereum development, Solidity, and dApp creation."
                    },
                    {
                        title: "Blockchain Study Group",
                        institution: "Community",
                        date: "2025 Feb - 2025 June",
                        description: "A blockchain study group that hosts monthly meetups to discuss and learn about blockchain technology."
                    }
                ],

                languages: [
                    { name: "English", proficiency: "Full Professional Proficiency", level: 90 },
                    { name: "Chinese (Mandarin)", proficiency: "Native or Bilingual Proficiency", level: 100 }
                ],

                contact: {
                    email: "charlie011111@gmail.com",
                    telegram: "@wen1645",
                    discord: "guoba8343",
                    ens: "camelsean.eth",
                    linkedin: "https://www.linkedin.com/in/chi-lin-kuo-a47608209/",
                    github: "https://github.com/KCL1104"
                }
            };

            // ===========================================
            // ASCII ART BANNER
            // ===========================================
            const ASCII_BANNER = `
██████╗ ███████╗███╗   ██╗ ██████╗ ██╗   ██╗
██╔══██╗██╔════╝████╗  ██║██╔════╝ ██║   ██║
██████╔╝█████╗  ██╔██╗ ██║██║  ███╗██║   ██║
██╔═══╝ ██╔══╝  ██║╚██╗██║██║   ██║██║   ██║
██║     ███████╗██║ ╚████║╚██████╔╝╚██████╔╝
╚═╝     ╚══════╝╚═╝  ╚═══╝ ╚═════╝  ╚═════╝`;

            // ===========================================
            // COMMAND DEFINITIONS
            // ===========================================
            const COMMANDS = {
                help: {
                    description: "Show available commands",
                    execute: showHelp
                },
                about: {
                    description: "Learn about me",
                    execute: showAbout
                },
                skills: {
                    description: "View my technical skills",
                    execute: showSkills
                },
                projects: {
                    description: "List all projects",
                    execute: showProjects
                },
                experience: {
                    description: "View work experience",
                    execute: showExperience
                },
                education: {
                    description: "View education history",
                    execute: showEducation
                },
                languages: {
                    description: "View language proficiencies",
                    execute: showLanguages
                },
                contact: {
                    description: "Get contact information",
                    execute: showContact
                },
                clear: {
                    description: "Clear the terminal",
                    execute: clearTerminal
                },
                cls: {
                    description: "Clear the terminal",
                    execute: clearTerminal
                },
                whoami: {
                    description: "Display current user",
                    execute: whoami
                },
                date: {
                    description: "Show current date/time",
                    execute: showDate
                },
                cat: {
                    description: "View project details (usage: cat <project-id>)",
                    execute: catProject
                },
                ls: {
                    description: "List available sections",
                    execute: listSections
                },
                social: {
                    description: "View social links",
                    execute: showSocial
                },
                resume: {
                    description: "Open resume PDF",
                    execute: showResume
                },
                // Easter eggs
                sudo: {
                    description: "Hidden command",
                    hidden: true,
                    execute: sudoCommand
                },
                hack: {
                    description: "Hidden command",
                    hidden: true,
                    execute: hackCommand
                },
                matrix: {
                    description: "Hidden command",
                    hidden: true,
                    execute: matrixCommand
                },
                cowsay: {
                    description: "Hidden command",
                    hidden: true,
                    execute: cowsayCommand
                },
                neofetch: {
                    description: "Hidden command",
                    hidden: true,
                    execute: neofetchCommand
                }
            };

            // ===========================================
            // TERMINAL STATE
            // ===========================================
            let commandHistory = [];
            let historyIndex = -1;
            let outputEl, inputEl, toastEl;
            let copyToastTimer = null;
            let lastCopiedText = '';

            // ===========================================
            // INITIALIZATION
            // ===========================================
            function init() {
                outputEl = document.getElementById('terminal-output');
                inputEl = document.getElementById('terminal-input');
                toastEl = document.getElementById('copy-toast');

                // Show welcome message
                showWelcome();

                // Event listeners
                inputEl.addEventListener('keydown', handleKeydown);
                inputEl.addEventListener('input', handleInput);

                // Focus input on click anywhere
                document.querySelector('.terminal-window').addEventListener('click', (e) => {
                    const selection = window.getSelection();
                    const hasSelection = selection && !selection.isCollapsed && selection.toString().trim().length > 0;
                    if (hasSelection) return;
                    if (!e.target.closest('a') && !e.target.closest('.hint-btn')) {
                        inputEl.focus();
                    }
                });

                document.addEventListener('selectionchange', () => {
                    const selection = window.getSelection();
                    if (!selection || selection.isCollapsed) {
                        lastCopiedText = '';
                        return;
                    }
                    const range = selection.getRangeAt(0);
                    if (!outputEl.contains(range.commonAncestorContainer)) {
                        return;
                    }
                    const text = selection.toString().trim();
                    if (!text || text === lastCopiedText) return;
                    lastCopiedText = text;
                    copySelectionText(text);
                });

                // Initial focus
                inputEl.focus();
            }

            // ===========================================
            // EVENT HANDLERS
            // ===========================================
            function handleKeydown(e) {
                switch(e.key) {
                    case 'Enter':
                        e.preventDefault();
                        executeCommand(inputEl.value.trim());
                        inputEl.value = '';
                        break;
                    case 'ArrowUp':
                        e.preventDefault();
                        navigateHistory(-1);
                        break;
                    case 'ArrowDown':
                        e.preventDefault();
                        navigateHistory(1);
                        break;
                    case 'Tab':
                        e.preventDefault();
                        autocomplete();
                        break;
                    case 'l':
                        if (e.ctrlKey) {
                            e.preventDefault();
                            clearTerminal();
                        }
                        break;
                }
            }

            function handleInput() {
                historyIndex = -1;
            }

            function navigateHistory(direction) {
                if (commandHistory.length === 0) return;

                historyIndex += direction;

                if (historyIndex < 0) {
                    historyIndex = -1;
                    inputEl.value = '';
                    return;
                }

                if (historyIndex >= commandHistory.length) {
                    historyIndex = commandHistory.length - 1;
                }

                inputEl.value = commandHistory[commandHistory.length - 1 - historyIndex];
                // Move cursor to end
                setTimeout(() => {
                    inputEl.selectionStart = inputEl.selectionEnd = inputEl.value.length;
                }, 0);
            }

            function autocomplete() {
                const input = inputEl.value.toLowerCase();
                if (!input) return;

                const matches = Object.keys(COMMANDS)
                    .filter(cmd => !COMMANDS[cmd].hidden && cmd.startsWith(input));

                if (matches.length === 1) {
                    inputEl.value = matches[0];
                } else if (matches.length > 1) {
                    printOutput(`\nPossible commands: ${matches.join(', ')}`);
                    printPrompt();
                }
            }

            // ===========================================
            // COMMAND EXECUTION
            // ===========================================
            function executeCommand(input) {
                if (!input) return;

                // Add to history
                commandHistory.push(input);
                historyIndex = -1;

                // Echo the command
                printOutput(`<span class="output-prompt">visitor@pengu:~$</span> <span class="output-command">${escapeHtml(input)}</span>`);

                // Parse command
                const parts = input.split(' ');
                const cmd = parts[0].toLowerCase();
                const args = parts.slice(1);

                if (COMMANDS[cmd]) {
                    COMMANDS[cmd].execute(args);
                } else {
                    printOutput(`<span class="output-error">Command not found: ${escapeHtml(cmd)}</span>`);
                    printOutput('Type <span class="output-command">help</span> for available commands.');
                }

                scrollToBottom();
            }

            // ===========================================
            // OUTPUT HELPERS
            // ===========================================
            function printOutput(html, className = '') {
                const line = document.createElement('div');
                line.className = `output-line ${className}`;
                line.innerHTML = html;
                outputEl.appendChild(line);
            }

            function printPrompt() {
                // Visual line break after command output
                printOutput('');
            }

            function scrollToBottom() {
                outputEl.scrollTop = outputEl.scrollHeight;
            }

            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            function copySelectionText(text) {
                if (!text) return;
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(text)
                        .then(showCopyToast)
                        .catch(() => {});
                    return;
                }
                try {
                    const ok = document.execCommand('copy');
                    if (ok) showCopyToast();
                } catch {}
            }

            function showCopyToast() {
                if (!toastEl) return;
                toastEl.classList.add('visible');
                if (copyToastTimer) {
                    clearTimeout(copyToastTimer);
                }
                copyToastTimer = setTimeout(() => {
                    toastEl.classList.remove('visible');
                }, 1200);
            }

            function generateSkillBar(level, width = 20) {
                const filled = Math.round((level / 100) * width);
                const empty = width - filled;
                return `<span class="skill-fill">${'█'.repeat(filled)}</span><span class="skill-bar">${'░'.repeat(empty)}</span>`;
            }

            // ===========================================
            // COMMAND IMPLEMENTATIONS
            // ===========================================
            function showWelcome() {
                printOutput(`<pre class="ascii-art">${ASCII_BANNER}</pre>`);
                printOutput('');
                printOutput(`Welcome to <span class="output-info">${PORTFOLIO_DATA.handle}</span>'s terminal portfolio!`);
                printOutput(`<span class="output-prompt">${PORTFOLIO_DATA.title}</span>`);
                printOutput('');
                printOutput('Type <span class="output-command">help</span> to see available commands, or click below:');
                printOutput('');

                // Add clickable command hints
                printOutput(generateCommandHints());
                printOutput('');
            }

            function generateCommandHints() {
                const mainCommands = ['about', 'projects', 'experience', 'contact', 'resume', 'help'];
                const buttons = mainCommands.map(cmd =>
                    `<button class="hint-btn" onclick="runCommand('${cmd}')">${cmd}</button>`
                ).join('');
                return `<div class="command-hints">${buttons}</div>`;
            }

            function showHelp() {
                printOutput('');
                printOutput('<span class="output-info">Available Commands:</span>');
                printOutput('');

                Object.entries(COMMANDS).forEach(([name, cmd]) => {
                    if (!cmd.hidden) {
                        printOutput(`  <span class="output-command">${name.padEnd(12)}</span> ${cmd.description}`);
                    }
                });

                printOutput('');
                printOutput('<span class="output-prompt">Tip: Use Tab for autocomplete, Up/Down for history</span>');
                printPrompt();
            }

            function showAbout() {
                const { about, name, title, wallet } = PORTFOLIO_DATA;

                printOutput('');
                printOutput(`<span class="output-info">// About ${name}</span>`);
                printOutput('');
                printOutput(`<img src="kcl.jpg" alt="${name}" class="profile-photo">`);
                printOutput('');
                printOutput(`<span class="output-command">Name:</span>     ${name}`);
                printOutput(`<span class="output-command">Handle:</span>   ${PORTFOLIO_DATA.handle}`);
                printOutput(`<span class="output-command">Title:</span>    ${title}`);
                printOutput(`<span class="output-command">Wallet:</span>   ${wallet}`);
                printOutput('');
                printOutput(about.intro);
                printOutput('');
                printOutput(about.background);
                printOutput('');
                printOutput('<span class="output-info">// Hackathon Awards</span>');
                about.hackathonAwards.forEach(award => {
                    printOutput(`  ${award}`);
                });
                printOutput('');
                printOutput('Run <span class="output-command">skills</span> to see project tech stack.');
                printPrompt();
            }

            function showSkills() {
                printOutput('');
                printOutput('<span class="output-info">// Project Tech Stack</span>');
                printOutput('');

                const techs = [...new Set(PORTFOLIO_DATA.projects.flatMap(project => project.tech))];
                techs.forEach(tech => {
                    printOutput(`  ${tech}`);
                });

                printPrompt();
            }

            function showProjects() {
                printOutput('');
                printOutput('<span class="output-info">// Featured Projects</span>');
                printOutput('');
                printOutput('Use <span class="output-command">cat &lt;project-id&gt;</span> to view project details.');
                printOutput('');

                PORTFOLIO_DATA.projects.forEach((project, index) => {
                    printOutput(`  <span class="project-name" onclick="runCommand('cat ${project.id}')">[${index + 1}] ${project.name}</span>`);
                    printOutput(`      <span class="project-tech-tags">${project.tech.join(' | ')}</span>`);
                });

                printPrompt();
            }

            function catProject(args) {
                const projectId = args[0]?.toLowerCase();

                if (!projectId) {
                    printOutput('<span class="output-error">Usage: cat &lt;project-id&gt;</span>');
                    printOutput('');
                    printOutput('Available projects:');
                    PORTFOLIO_DATA.projects.forEach(p => {
                        printOutput(`  - ${p.id}`);
                    });
                    return;
                }

                const project = PORTFOLIO_DATA.projects.find(p =>
                    p.id === projectId || p.name.toLowerCase().includes(projectId)
                );

                if (!project) {
                    printOutput(`<span class="output-error">Project not found: ${escapeHtml(projectId)}</span>`);
                    return;
                }

                printOutput('');
                printOutput(`<span class="output-info">// ${project.name}</span>`);
                printOutput('');
                printOutput(project.description);
                printOutput('');
                printOutput(`<span class="output-command">Technologies:</span> ${project.tech.join(', ')}`);
                printOutput(`<span class="output-command">Categories:</span>   ${project.category.join(', ')}`);
                printOutput(`<span class="output-command">GitHub:</span>       <a href="${project.github}" target="_blank" class="output-link">${project.github}</a>`);
                printPrompt();
            }

            function showExperience() {
                printOutput('');
                printOutput('<span class="output-info">// Work Experience</span>');
                printOutput('');

                PORTFOLIO_DATA.experience.forEach(exp => {
                    printOutput(`<div class="timeline-entry">`);
                    printOutput(`  <span class="timeline-title">${exp.title}</span>`);
                    printOutput(`  <span class="timeline-company">${exp.company}</span> | ${exp.location}`);
                    printOutput(`  <span class="timeline-date">${exp.date}</span>`);
                    printOutput(`  ${exp.description}`);
                    printOutput(`  <span class="project-tech-tags">${exp.tech.join(' | ')}</span>`);
                    printOutput(`</div>`);
                });

                printPrompt();
            }

            function showEducation() {
                printOutput('');
                printOutput('<span class="output-info">// Education & Learning Journey</span>');
                printOutput('');

                PORTFOLIO_DATA.education.forEach(edu => {
                    printOutput(`<div class="timeline-entry">`);
                    printOutput(`  <span class="timeline-title">${edu.title}</span>`);
                    printOutput(`  <span class="timeline-company">${edu.institution}</span>${edu.location ? ` | ${edu.location}` : ''}`);
                    printOutput(`  <span class="timeline-date">${edu.date}</span>`);
                    printOutput(`  ${edu.description}`);
                    printOutput(`</div>`);
                });

                printPrompt();
            }

            function showLanguages() {
                printOutput('');
                printOutput('<span class="output-info">// Languages</span>');
                printOutput('');

                PORTFOLIO_DATA.languages.forEach(lang => {
                    const bar = generateSkillBar(lang.level);
                    printOutput(`  <span class="output-command">${lang.name.padEnd(20)}</span> ${bar}`);
                    printOutput(`  ${' '.repeat(20)} ${lang.proficiency}`);
                    printOutput('');
                });

                printPrompt();
            }

            function showContact() {
                const { contact } = PORTFOLIO_DATA;

                printOutput('');
                printOutput('<span class="output-info">// Contact Information</span>');
                printOutput('');
                printOutput(`  <span class="output-command">Email:</span>    <a href="mailto:${contact.email}" class="output-link">${contact.email}</a>`);
                printOutput(`  <span class="output-command">Telegram:</span> ${contact.telegram}`);
                printOutput(`  <span class="output-command">Discord:</span>  ${contact.discord}`);
                printOutput(`  <span class="output-command">ENS:</span>      ${contact.ens}`);
                printOutput(`  <span class="output-command">LinkedIn:</span> <a href="${contact.linkedin}" target="_blank" class="output-link">${contact.linkedin}</a>`);
                printOutput(`  <span class="output-command">GitHub:</span>   <a href="${contact.github}" target="_blank" class="output-link">${contact.github}</a>`);
                printOutput('');
                printOutput('I am eager to connect with blockchain professionals, potential employers,');
                printOutput('and fellow developers. Looking for collaboration on blockchain projects!');
                printPrompt();
            }

            function showSocial() {
                const { contact } = PORTFOLIO_DATA;

                printOutput('');
                printOutput('<span class="output-info">// Social Links</span>');
                printOutput('');
                printOutput(`  [GitHub]   <a href="${contact.github}" target="_blank" class="output-link">${contact.github}</a>`);
                printOutput(`  [LinkedIn] <a href="${contact.linkedin}" target="_blank" class="output-link">${contact.linkedin}</a>`);
                printOutput(`  [Email]    <a href="mailto:${contact.email}" class="output-link">${contact.email}</a>`);
                printPrompt();
            }

            function showResume() {
                const resumeUrl = 'resume.pdf';

                printOutput('');
                printOutput('<span class="output-info">// Resume</span>');

                fetch(resumeUrl, { method: 'HEAD' })
                    .then(response => {
                        if (response.ok) {
                            printOutput(`Opening <a href="${resumeUrl}" target="_blank" class="output-link">${resumeUrl}</a>`);
                            window.open(resumeUrl, '_blank');
                        } else {
                            printOutput('<span class="output-error">Resume PDF not found.</span>');
                            printOutput(`Place the file at <span class="output-command">${resumeUrl}</span>.`);
                        }
                        printPrompt();
                    })
                    .catch(() => {
                        printOutput('<span class="output-error">Unable to load resume right now.</span>');
                        printOutput(`Expected file: <span class="output-command">${resumeUrl}</span>`);
                        printPrompt();
                    });
            }

            function clearTerminal() {
                outputEl.innerHTML = '';
                showWelcome();
            }

            function whoami() {
                printOutput('');
                printOutput('visitor');
                printPrompt();
            }

            function showDate() {
                printOutput('');
                printOutput(new Date().toString());
                printPrompt();
            }

            function listSections() {
                printOutput('');
                printOutput('about/     projects/     experience/');
                printOutput('education/ languages/    contact/');
                printOutput('skills/    social/       resume/');
                printPrompt();
            }

            // ===========================================
            // EASTER EGGS
            // ===========================================
            function sudoCommand(args) {
                printOutput('');
                printOutput('<span class="output-error">[sudo] password for visitor: </span>');
                printOutput('<span class="output-error">Sorry, visitor is not in the sudoers file. This incident will be reported.</span>');
                printPrompt();
            }

            function hackCommand() {
                printOutput('');
                printOutput('<span class="output-success">Initiating hack sequence...</span>');
                printOutput('<span class="output-error">Just kidding! I am a friendly portfolio, not a hacker tool.</span>');
                printOutput('<span class="output-info">But if you want to see real blockchain magic, check out my projects!</span>');
                printPrompt();
            }

            function matrixCommand() {
                printOutput('');
                printOutput('<span class="output-success">Wake up, Neo...</span>');
                printOutput('<span class="output-success">The Matrix has you...</span>');
                printOutput('<span class="output-success">Follow the white rabbit.</span>');
                printOutput('');
                printOutput('(Try the <span class="output-command">projects</span> command instead)');
                printPrompt();
            }

            function cowsayCommand(args) {
                const message = args.join(' ') || 'Moo! Check out my projects!';
                const border = '_'.repeat(message.length + 2);

                const cow = `  ${border}
< ${message} >
  ${'-'.repeat(message.length + 2)}
        \\   ^__^
         \\  (oo)\\_______
            (__)\\       )\\/\\
                ||----w |
                ||     ||`;

                printOutput('');
                printOutput(`<pre style="margin: 0; font-family: inherit;">${cow}</pre>`);
                printPrompt();
            }

            function neofetchCommand() {
                printOutput('');
                printOutput(`<pre class="ascii-art" style="color: var(--terminal-cyan);">
       .--.        <span style="color: var(--terminal-text)">visitor@pengu</span>
      |o_o |       <span style="color: var(--terminal-text)">--------------</span>
      |:_/ |       <span style="color: var(--terminal-text)">OS: Portfolio Terminal</span>
     //   \\ \\      <span style="color: var(--terminal-text)">Host: ${PORTFOLIO_DATA.name}</span>
    (|     | )     <span style="color: var(--terminal-text)">Role: ${PORTFOLIO_DATA.title}</span>
   /'\\_   _/\`\\     <span style="color: var(--terminal-text)">Projects: ${PORTFOLIO_DATA.projects.length}</span>
   \\___)=(___/     <span style="color: var(--terminal-text)">Skills: ${PORTFOLIO_DATA.about.skills.length}</span>
</pre>`);
                printPrompt();
            }

            // ===========================================
            // GLOBAL FUNCTION FOR CLICKABLE COMMANDS
            // ===========================================
            window.runCommand = function(cmd) {
                inputEl.value = cmd;
                executeCommand(cmd);
                inputEl.value = '';
                inputEl.focus();
            };

            // ===========================================
            // START APPLICATION
            // ===========================================
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }

        })();
    </script>
</body>
</html>
